<odoo>
    <record id="view_form_work" model="ir.ui.view">
        <field name="name">Work Form</field>
        <field name="model">estimation.work</field>
        <field name="arch" type="xml">
            <form>
                <sheet>
                    <group name="group_top">
                        <group name="group_left">
                            <field name="project_name" />
                            <field name="customer_ids" />
                            <field name="estimator_ids" />
                            <field name="reviewer_ids" />
                        </group>
                        <group name="group_right">
                            <field name="deadline" />
                            <field name="sale_date" />
                            <field name="stage" placeholder="Select current stage" />
                            <field name="currency_id" />
                            <field name="contract_id" />
                        </group>
                    </group>
                    <notebook>
                        <page string="Overview">
                            <field name="add_lines_overview">
                                <tree create="0" editable="0" delete="0">
                                    <field name="revision" />
                                    <field name="description" />
                                    <field name="author" />
                                    <field name="write_date" string="Update Date" />
                                </tree>
                            </field>
                        </page>
                        <page string="Summary">
                            <separator string="Total cost" />
                            <field name="add_lines_summary_totalcost">
                                <tree editable="bottom">
                                    <field name="sequence" />
                                    <field name="module" />
                                    <field name="design_effort" />
                                    <field name="dev_effort" />
                                    <field name="tester_effort" />
                                    <field name="comtor_effort" />
                                    <field name="brse_effort" />
                                    <field name="pm_effort" />
                                    <field name="total_effort" />
                                    <field name="cost" />
                                </tree>
                            </field>
                            <separator string="Cost Rate" />
                            <field name="add_lines_summary_costrate">
                                <tree editable="bottom">
                                    <field name="sequence" />
                                    <field name="types" />
                                    <field name="yen_month" />
                                    <field name="yen_day" />
                                    <field name="vnd_day" />
                                </tree>
                            </field>
                        </page>
                        <page string="Resource Planning">
                            <separator string="Total Effort" />
                            <field name="add_lines_resource_effort">
                                <tree editable="bottom">
                                    <field name="sequence" />
                                    <field name="design_effort" />
                                    <field name="dev_effort" />
                                    <field name="tester_effort" />
                                    <field name="comtor_effort" />
                                    <field name="brse_effort" />
                                    <field name="pm_effort" />
                                    <field name="total_effort" />
                                </tree>
                            </field>
                        </page>
                        <page string="Module">
                            <separator string="Assumption" />
                            <field name="add_lines_module_assumption">
                                <tree editable="bottom">
                                    <field name="assumption" />
                                </tree>
                            </field>
                            <separator string="Summary" />
                            <field name="add_lines_module_summary">
                                <tree editable="bottom">
                                    <field name="project_type" placeholder="Select project category" />
                                    <field name="working_efforts" placeholder="Select working hours or efforts" />
                                    <field name="time_effort_value" placeholder="Select value" />
                                </tree>
                            </field>
                            <separator string="Effort distribution" />
                            <field name="add_lines_module_effort_distribute">
                                <tree create="0" editable="0" delete="0">
                                    <field name="sequence" />
                                    <field name="activity" />
                                    <field name="effort" />
                                    <field name="percent" />
                                </tree>
                                <form string="Effort distribution">
                                    <group col="4">
                                        <field name="sequence" string="No" />
                                        <field name="activity" />
                                        <field name="effort" />
                                        <field name="percent" />
                                    </group>
                                </form>
                            </field>
                            <separator string='Work Breakdown Structure and Estimate' />
                            <field name="add_lines_module_breakdown">
                                <tree>
                                    <field name="sequence" />
                                    <field name="activity" />
                                    <field name="effort" />
                                    <field name="mandays" />
                                </tree>
                                <form string="Work Breakdown">
                                    <group col="4">
                                        <field name="sequence" />
                                        <field name="activity" />
                                        <field name="effort" />
                                        <field name="mandays" />
                                        <field name="activity_type" />
                                    </group>
                                    <notebook>
                                        <page string="Breakdown Estimation">
                                            <field name="add_lines_breakdown_activity">
                                                <tree editable="bottom">
                                                    <field name="sequence"/>
                                                    <field name="activity"/>
                                                    <field name="persons" attrs="{'column_invisible': [('parent.activity_type', '!=', 'type_3')]}" />
                                                    <field name="days" attrs="{'column_invisible': [('parent.activity_type', '!=', 'type_3')]}" />
                                                    <field name="job_pos"/>
                                                    <field name="effort"/>
                                                    <field name="mandays"/>
                                                    <field name="percent_effort"  attrs="{'column_invisible': [('parent.activity_type', '!=', 'type_1')]}" />
                                                    <field name="type" invisible="1"/>
                                                </tree>
                                            </field>
                                        </page>
                                    </notebook>

                                </form>
                            </field>
                            <group name="note_group" col="6" class="mt-2 mt-md-0">
                                <group class="oe_subtotal_footer" colspan="2" name="sale_total">
                                    <field name="total_manday" readonly="1" />
                                </group>
                                <div class="oe_clear"/>
                            </group>
                            
                        </page>
                    </notebook>
                </sheet>
            </form>

        </field>
    </record>

    <record id="view_tree_work" model="ir.ui.view">
        <field name="name">Work List</field>
        <field name="model">estimation.work</field>
        <field name="arch" type="xml">

            <tree default_order='create_date desc'>
                <field name="number"></field>
                <field name="estimator_ids" />
                <field name="reviewer_ids" />
                <field name="customer_ids" />
                <field name="expected_revenue" widget="monetary" />
                <field name="total_cost" widget="monetary" />
                <field name="deadline" />
                <field name="stage" />
            </tree>
        </field>
    </record>
</odoo>